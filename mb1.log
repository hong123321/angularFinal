{"level":"info","message":"[mb:2525] mountebank v2.5.0 now taking orders - point your browser to http://localhost:2525/ for help","timestamp":"2022-02-15T08:20:24.359Z"}
{"level":"info","message":"[mb:2525] GET /images/book.jpg","timestamp":"2022-02-15T08:20:32.257Z"}
{"level":"info","message":"[mb:2525] GET /images/book.jpg","timestamp":"2022-02-15T08:20:34.317Z"}
{"level":"info","message":"[mb:2525] GET /images/book.jpg","timestamp":"2022-02-15T08:22:36.459Z"}
{"level":"info","message":"[mb:2525] GET /images/book.jpg","timestamp":"2022-02-15T08:22:41.921Z"}
{"level":"info","message":"[mb:2525] POST /imposters/4545/stubs","timestamp":"2022-02-15T08:23:42.810Z"}
{"level":"info","message":"[mb:2525] GET /images/book.jpg","timestamp":"2022-02-15T08:23:54.447Z"}
{"level":"info","message":"[mb:2525] GET /images/book.jpg","timestamp":"2022-02-15T08:24:23.945Z"}
{"level":"info","message":"[mb:2525] POST /imposters","timestamp":"2022-02-15T08:25:22.730Z"}
{"level":"error","message":"[mb:2525] error creating imposter: [{\"code\":\"invalid injection\",\"message\":\"JavaScript injection is not allowed unless mb is run with the --allowInjection flag\",\"source\":{\"inject\":\"function (config) { return config.request.length >= 100; }\"}},{\"code\":\"invalid injection\",\"message\":\"JavaScript injection is not allowed unless mb is run with the --allowInjection flag\",\"source\":{\"responses\":[{\"is\":{\"statusCode\":201,\"headers\":{\"Location\":\"http://example.com/resource\"},\"body\":\"The time is ${TIME}\",\"_mode\":\"text\"},\"repeat\":3,\"behaviors\":[{\"wait\":500},{\"decorate\":\"config => { config.response.body = config.response.body.replace('${TIME}', 'now'); }\"},{\"shellTransform\":\"transformResponse\"},{\"copy\":{\"from\":\"body\",\"into\":\"${NAME}\",\"using\":{\"method\":\"xpath\",\"selector\":\"//test:name\",\"ns\":{\"test\":\"http://example.com/test\"}}}},{\"lookup\":{\"key\":{\"from\":{\"headers\":\"If-Modified-Since\"},\"using\":{\"method\":\"regex\",\"selector\":\"(\\\\w+), (\\\\d+) (\\\\w+) (\\\\d+)\",\"options\":{\"ignoreCase\":true,\"multiline\":true}},\"index\":2},\"fromDataSource\":{\"csv\":{\"path\":\"values.csv\",\"keyColumn\":\"month\",\"delimiter\":\",\"}},\"into\":\"${row}\"}}]},{\"proxy\":{\"to\":\"https://www.somesite.com:3000\",\"mode\":\"proxyAlways\",\"key\":\"-----BEGIN RSA PRIVATE KEY-----\\nMIICXAIBAAKBgQCrvse04YkxtVGagyvGJCsvv7LTfLK5uR/ZIJKDYCnuF+BqBzM4\\nlko8O39vx+Lz9FfF11Xl+CN1aY37YurLYOle3dC/qslSbQDe2TJN7lcVHVssePvc\\nO5IExpvNFV5LYtmyCMKJHxpnIprv/trUso5obqzzXhFVPV9SQbFH/snInwIDAQAB\\nAoGARywlqLD6YO4qJiULw+4DM6N2oSwBCPRN3XYhIW59kdy1NFtNf7rQgsuJUTJ9\\nu+lbYnKNd2LwltyqaS4h7Sx5KRhpFNmMpyVsBf5J2q3fbfmrsXt+emY7XhVTc1NV\\nizUWYyxCoTTeMWvN/6NYpPV0lSxq7jMTFVZrWQUMqJclxpECQQDTlGwALtAX1Y8u\\nGKsEHPkoq9bhHA5N9WAboQ4LQCZVC8eBf/XH//2iosYTXRNgII2JLmHmmxJHo5iN\\nJPFMbnoHAkEAz81osJf+yHm7PBBJP4zEWZCV25c+iJiPDpj5UoUXEbq47qVfy1mV\\nDqy2zoDynAWitU7PeHyZ8ozfyribPoR2qQJAVmvMhXKZmvKnLivzRpXTC9LMzVwZ\\nV6x/Wim5w8yrG5fZIMM0kEG2xwR3pZch/+SsCzl/0aLLn6lp+VT6nr6NZwJBAMxs\\nHrvymoLvNeDtiJFK0nHliXafP7YyljDfDg4+vSYE0R57c1RhSQBJqgBV29TeumSw\\nJes6cFuqeBE+MAJ9XxkCQDdUdhnA8HHQRNetqK7lygUep7EcHHCB6u/0FypoLw7o\\nEUVo5KSEFq93UeMr3B7DDPIz3LOrFXlm7clCh1HFZhQ=\\n-----END RSA PRIVATE KEY-----\",\"cert\":\"-----BEGIN CERTIFICATE-----\\nMIIB6TCCAVICCQCZgxbBD0CG4zANBgkqhkiG9w0BAQUFADA5MQswCQYDVQQGEwJV\\nUzETMBEGA1UECBMKU29tZS1TdGF0ZTEVMBMGA1UEChMMVGhvdWdodFdvcmtzMB4X\\nDTEzMTIyOTE2NDAzN1oXDTE0MDEyODE2NDAzN1owOTELMAkGA1UEBhMCVVMxEzAR\\nBgNVBAgTClNvbWUtU3RhdGUxFTATBgNVBAoTDFRob3VnaHRXb3JrczCBnzANBgkq\\nhkiG9w0BAQEFAAOBjQAwgYkCgYEAq77HtOGJMbVRmoMrxiQrL7+y03yyubkf2SCS\\ng2Ap7hfgagczOJZKPDt/b8fi8/RXxddV5fgjdWmN+2Lqy2DpXt3Qv6rJUm0A3tky\\nTe5XFR1bLHj73DuSBMabzRVeS2LZsgjCiR8aZyKa7/7a1LKOaG6s814RVT1fUkGx\\nR/7JyJ8CAwEAATANBgkqhkiG9w0BAQUFAAOBgQCPhixeKxIy+ftrfPikwjYo1uxp\\ngQ18FdVN1pbI//IIx1o8kJuX8yZzO95PsCOU0GbIRCkFMhBlqHiD9H0/W/GvWzjf\\n7WFW15lL61y/kH1J0wqEgoaMrUDjHZvKVr0HrN+vSxHlNQcSNFJ2KdvZ5a9dhpGf\\nXOdprCdUUXzSoJWCCg==\\n-----END CERTIFICATE-----\",\"ciphers\":\"RC4-MD5\",\"secureProtocol\":\"TLSv1_1_method\",\"passphrase\":\"LetMeIn!\",\"addWaitBehavior\":\"true\",\"addDecorateBehavior\":\"(request, response) => { response.body = response.body.replace('${TIME}', 'now'); }\",\"predicateGenerators\":[{\"matches\":{\"path\":true},\"caseSensitive\":true,\"except\":\"^The^\",\"jsonpath\":{\"selector\":\"$..book\"},\"xpath\":{\"selector\":\"//book/@title\",\"ns\":{\"isbn\":\"http://schemas.isbn.org/ns/1999/basic.dtd\"}},\"inject\":\"function (config) { return []; }\"}],\"injectHeaders\":{\"X-Custom-Header\":\"Served by mountebank\"}}},{\"inject\":\"function (config) { config.callback({ body: 'It worked!' }); }\"}],\"predicates\":[{\"equals\":{\"body\":\"value\",\"caseSensitive\":true,\"except\":\"^The \",\"jsonpath\":{\"selector\":\"$..book\"},\"xpath\":{\"selector\":\"//book/@title\",\"ns\":{\"isbn\":\"http://schemas.isbn.org/ns/1999/basic.dtd\"}}}},{\"inject\":\"function (config) { return config.request.body.length < 100; }\"}],\"matches\":[{\"timestamp\":\"2014-01-09T02:30:31.043Z\",\"request\":{\"requestFrom\":\"::ffff:127.0.0.1:60523\",\"method\":\"POST\",\"path\":\"/imposters\",\"query\":{},\"headers\":{\"accept\":\"text/plain\",\"host\":\"localhost:4545\",\"content-type\":\"application/xml\",\"connection\":\"keep-alive\",\"transfer-encoding\":\"chunked\"},\"body\":\"<books><book title='The value' /></books>\"},\"response\":{\"statusCode\":201,\"headers\":{\"Location\":\"http://example.com/resource\"},\"body\":\"The time is now\",\"_mode\":\"text\"}}]}},{\"code\":\"invalid injection\",\"message\":\"Shell execution is not allowed unless mb is run with the --allowInjection flag\",\"source\":{\"responses\":[{\"is\":{\"statusCode\":201,\"headers\":{\"Location\":\"http://example.com/resource\"},\"body\":\"The time is ${TIME}\",\"_mode\":\"text\"},\"repeat\":3,\"behaviors\":[{\"wait\":500},{\"decorate\":\"config => { config.response.body = config.response.body.replace('${TIME}', 'now'); }\"},{\"shellTransform\":\"transformResponse\"},{\"copy\":{\"from\":\"body\",\"into\":\"${NAME}\",\"using\":{\"method\":\"xpath\",\"selector\":\"//test:name\",\"ns\":{\"test\":\"http://example.com/test\"}}}},{\"lookup\":{\"key\":{\"from\":{\"headers\":\"If-Modified-Since\"},\"using\":{\"method\":\"regex\",\"selector\":\"(\\\\w+), (\\\\d+) (\\\\w+) (\\\\d+)\",\"options\":{\"ignoreCase\":true,\"multiline\":true}},\"index\":2},\"fromDataSource\":{\"csv\":{\"path\":\"values.csv\",\"keyColumn\":\"month\",\"delimiter\":\",\"}},\"into\":\"${row}\"}}]},{\"proxy\":{\"to\":\"https://www.somesite.com:3000\",\"mode\":\"proxyAlways\",\"key\":\"-----BEGIN RSA PRIVATE KEY-----\\nMIICXAIBAAKBgQCrvse04YkxtVGagyvGJCsvv7LTfLK5uR/ZIJKDYCnuF+BqBzM4\\nlko8O39vx+Lz9FfF11Xl+CN1aY37YurLYOle3dC/qslSbQDe2TJN7lcVHVssePvc\\nO5IExpvNFV5LYtmyCMKJHxpnIprv/trUso5obqzzXhFVPV9SQbFH/snInwIDAQAB\\nAoGARywlqLD6YO4qJiULw+4DM6N2oSwBCPRN3XYhIW59kdy1NFtNf7rQgsuJUTJ9\\nu+lbYnKNd2LwltyqaS4h7Sx5KRhpFNmMpyVsBf5J2q3fbfmrsXt+emY7XhVTc1NV\\nizUWYyxCoTTeMWvN/6NYpPV0lSxq7jMTFVZrWQUMqJclxpECQQDTlGwALtAX1Y8u\\nGKsEHPkoq9bhHA5N9WAboQ4LQCZVC8eBf/XH//2iosYTXRNgII2JLmHmmxJHo5iN\\nJPFMbnoHAkEAz81osJf+yHm7PBBJP4zEWZCV25c+iJiPDpj5UoUXEbq47qVfy1mV\\nDqy2zoDynAWitU7PeHyZ8ozfyribPoR2qQJAVmvMhXKZmvKnLivzRpXTC9LMzVwZ\\nV6x/Wim5w8yrG5fZIMM0kEG2xwR3pZch/+SsCzl/0aLLn6lp+VT6nr6NZwJBAMxs\\nHrvymoLvNeDtiJFK0nHliXafP7YyljDfDg4+vSYE0R57c1RhSQBJqgBV29TeumSw\\nJes6cFuqeBE+MAJ9XxkCQDdUdhnA8HHQRNetqK7lygUep7EcHHCB6u/0FypoLw7o\\nEUVo5KSEFq93UeMr3B7DDPIz3LOrFXlm7clCh1HFZhQ=\\n-----END RSA PRIVATE KEY-----\",\"cert\":\"-----BEGIN CERTIFICATE-----\\nMIIB6TCCAVICCQCZgxbBD0CG4zANBgkqhkiG9w0BAQUFADA5MQswCQYDVQQGEwJV\\nUzETMBEGA1UECBMKU29tZS1TdGF0ZTEVMBMGA1UEChMMVGhvdWdodFdvcmtzMB4X\\nDTEzMTIyOTE2NDAzN1oXDTE0MDEyODE2NDAzN1owOTELMAkGA1UEBhMCVVMxEzAR\\nBgNVBAgTClNvbWUtU3RhdGUxFTATBgNVBAoTDFRob3VnaHRXb3JrczCBnzANBgkq\\nhkiG9w0BAQEFAAOBjQAwgYkCgYEAq77HtOGJMbVRmoMrxiQrL7+y03yyubkf2SCS\\ng2Ap7hfgagczOJZKPDt/b8fi8/RXxddV5fgjdWmN+2Lqy2DpXt3Qv6rJUm0A3tky\\nTe5XFR1bLHj73DuSBMabzRVeS2LZsgjCiR8aZyKa7/7a1LKOaG6s814RVT1fUkGx\\nR/7JyJ8CAwEAATANBgkqhkiG9w0BAQUFAAOBgQCPhixeKxIy+ftrfPikwjYo1uxp\\ngQ18FdVN1pbI//IIx1o8kJuX8yZzO95PsCOU0GbIRCkFMhBlqHiD9H0/W/GvWzjf\\n7WFW15lL61y/kH1J0wqEgoaMrUDjHZvKVr0HrN+vSxHlNQcSNFJ2KdvZ5a9dhpGf\\nXOdprCdUUXzSoJWCCg==\\n-----END CERTIFICATE-----\",\"ciphers\":\"RC4-MD5\",\"secureProtocol\":\"TLSv1_1_method\",\"passphrase\":\"LetMeIn!\",\"addWaitBehavior\":\"true\",\"addDecorateBehavior\":\"(request, response) => { response.body = response.body.replace('${TIME}', 'now'); }\",\"predicateGenerators\":[{\"matches\":{\"path\":true},\"caseSensitive\":true,\"except\":\"^The^\",\"jsonpath\":{\"selector\":\"$..book\"},\"xpath\":{\"selector\":\"//book/@title\",\"ns\":{\"isbn\":\"http://schemas.isbn.org/ns/1999/basic.dtd\"}},\"inject\":\"function (config) { return []; }\"}],\"injectHeaders\":{\"X-Custom-Header\":\"Served by mountebank\"}}},{\"inject\":\"function (config) { config.callback({ body: 'It worked!' }); }\"}],\"predicates\":[{\"equals\":{\"body\":\"value\",\"caseSensitive\":true,\"except\":\"^The \",\"jsonpath\":{\"selector\":\"$..book\"},\"xpath\":{\"selector\":\"//book/@title\",\"ns\":{\"isbn\":\"http://schemas.isbn.org/ns/1999/basic.dtd\"}}}},{\"inject\":\"function (config) { return config.request.body.length < 100; }\"}],\"matches\":[{\"timestamp\":\"2014-01-09T02:30:31.043Z\",\"request\":{\"requestFrom\":\"::ffff:127.0.0.1:60523\",\"method\":\"POST\",\"path\":\"/imposters\",\"query\":{},\"headers\":{\"accept\":\"text/plain\",\"host\":\"localhost:4545\",\"content-type\":\"application/xml\",\"connection\":\"keep-alive\",\"transfer-encoding\":\"chunked\"},\"body\":\"<books><book title='The value' /></books>\"},\"response\":{\"statusCode\":201,\"headers\":{\"Location\":\"http://example.com/resource\"},\"body\":\"The time is now\",\"_mode\":\"text\"}}]}}]","timestamp":"2022-02-15T08:25:22.754Z"}
{"level":"info","message":"[mb:2525] GET /imposters/4545/stubs","timestamp":"2022-02-15T08:25:39.278Z"}
{"level":"info","message":"[mb:2525] Adios - see you soon?","timestamp":"2022-02-15T08:25:44.774Z"}
